version: "3"
services:
  node1:
    build:
      context: ./
      dockerfile: cmd/dc/Dockerfile
    environment:
      - SERVICE_PATH=test/node1
      - CONSUME_ADDR=:8080
      - PRODUCE_ADDR=:8081
    ports:
      - 8081:8081
    networks:
      - dc-network
  node2:
    build:
      context: ./
      dockerfile: cmd/dc/Dockerfile
    environment:
      - SERVICE_PATH=test/node2
      - CONSUME_ADDR=:8080
    networks:
      - dc-network
  node3:
    build:
      context: ./
      dockerfile: cmd/dc/Dockerfile
    environment:
      - SERVICE_PATH=test/node3
      - CONSUME_ADDR=:8080
    networks:
      - dc-network
networks:
  dc-network:
    driver: bridge
